// JavaScript code to send a POST request
fetch('http://yourdomain.com/api/endpoint', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({ key: 'value' }) // Sending JSON data
})
.then(response => {
    if (!response.ok) {
        throw new Error('Network response was not ok');
    }
    return response.text(); // Expecting an HTML response
})
.then(html => {
    // Insert the fetched HTML into the DOM
    document.open();
    document.write(html);
    document.close();
})
.catch(error => {
    console.error('There was a problem with the fetch operation:', error);
});





<?php
// Check if the request method is POST
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // Get the posted data
    $data = json_decode(file_get_contents('php://input'), true);

    // Process the data (e.g., save to database, etc.)

    // Send the HTML response with embedded CSS and JavaScript
    header("Content-Type: text/html");
    echo "<!DOCTYPE html>";
    echo "<html>";
    echo "<head>";
    echo "<title>Response Page</title>";
    echo "<style>";
    echo "body { font-family: Arial, sans-serif; }";
    echo "#content { margin: 20px; padding: 20px; border: 1px solid #ccc; }";
    echo "</style>";
    echo "</head>";
    echo "<body>";
    echo "<div id='content'>";
    echo "<h1>Response Page</h1>";
    echo "<p>Here are the details you requested:</p>";
    echo "<p>Key: " . htmlspecialchars($data['key']) . "</p>";
    echo "</div>";
    echo "<script>";
    echo "console.log('JavaScript loaded');";
    echo "</script>";
    echo "</body>";
    echo "</html>";
} else {
    // Handle other request methods
    header("HTTP/1.1 405 Method Not Allowed");
    echo "Method not allowed";
}
?>
